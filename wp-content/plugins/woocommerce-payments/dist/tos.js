/*! For license information please see tos.js.LICENSE.txt */
!function(){var e={4184:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var c=o.apply(null,n);c&&e.push(c)}}else if("object"===i)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},4155:function(e){var t,n,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function c(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var s,a=[],u=!1,l=-1;function p(){u&&s&&(u=!1,s.length?a=s.concat(a):l=-1,a.length&&f())}function f(){if(!u){var e=c(p);u=!0;for(var t=a.length;t;){for(s=a,a=[];++l<t;)s&&s[l].run();l=-1,t=a.length}s=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];a.push(new d(e,t)),1!==a.length||u||c(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e}(),n.p=window.wcpayAssets.url,function(){"use strict";var e=window.wp.element,t=window.React,r=window.ReactDOM,o=n.n(r);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}var c=window.wp.i18n;function s(e){return e.startsWith("{{/")?{type:"componentClose",value:e.replace(/\W/g,"")}:e.endsWith("/}}")?{type:"componentSelfClosing",value:e.replace(/\W/g,"")}:e.startsWith("{{")?{type:"componentOpen",value:e.replace(/\W/g,"")}:{type:"string",value:e}}function a(e,n){let r,o,i=[];for(let t=0;t<e.length;t++){const c=e[t];if("string"!==c.type){if(void 0===n[c.value])throw new Error(`Invalid interpolation, missing component node: \`${c.value}\``);if("object"!=typeof n[c.value])throw new Error(`Invalid interpolation, component node must be a ReactElement or null: \`${c.value}\``);if("componentClose"===c.type)throw new Error(`Missing opening component token: \`${c.value}\``);if("componentOpen"===c.type){r=n[c.value],o=t;break}i.push(n[c.value])}else i.push(c.value)}if(r){const c=function(e,t){const n=t[e];let r=0;for(let o=e+1;o<t.length;o++){const e=t[o];if(e.value===n.value){if("componentOpen"===e.type){r++;continue}if("componentClose"===e.type){if(0===r)return o;r--}}}throw new Error("Missing closing component token `"+n.value+"`")}(o,e),s=a(e.slice(o+1,c),n),u=(0,t.cloneElement)(r,{},s);if(i.push(u),c<e.length-1){const t=a(e.slice(c+1),n);i=i.concat(t)}}return i=i.filter(Boolean),0===i.length?null:1===i.length?i[0]:(0,t.createElement)(t.Fragment,null,...i)}function u(e){const{mixedString:t,components:n,throwErrors:r}=e;if(!n)return t;if("object"!=typeof n){if(r)throw new Error(`Interpolation Error: unable to process \`${t}\` because components is not an object`);return t}const o=function(e){return e.split(/(\{\{\/?\s*\w+\s*\/?\}\})/g).map(s)}(t);try{return a(o,n)}catch(e){if(r)throw new Error(`Interpolation Error: unable to process \`${t}\` because of error \`${e.message}\``);return t}}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}var _=window.wp.compose,g=window.wp.deprecated,O=n.n(g),E=n(4184),C=n.n(E),S=window.wp.keycodes;function T(e){e.stopPropagation()}var D=(0,e.forwardRef)((function(t,n){var r=t.children,o=l(t,["children"]);return(0,e.createElement)("div",i({},o,{ref:n,onMouseDown:T}),r)})),P=window.lodash;var R=["button","submit"],N=(0,_.createHigherOrderComponent)((function(t){return function(n){h(s,n);var r,o,c=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(r);if(o){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return w(this,e)});function s(){var e;return p(this,s),(e=c.apply(this,arguments)).bindNode=e.bindNode.bind(v(e)),e.cancelBlurCheck=e.cancelBlurCheck.bind(v(e)),e.queueBlurCheck=e.queueBlurCheck.bind(v(e)),e.normalizeButtonFocus=e.normalizeButtonFocus.bind(v(e)),e}return d(s,[{key:"componentWillUnmount",value:function(){this.cancelBlurCheck()}},{key:"bindNode",value:function(e){e?this.node=e:(delete this.node,this.cancelBlurCheck())}},{key:"queueBlurCheck",value:function(e){var t=this;e.persist(),this.preventBlurCheck||(this.blurCheckTimeout=setTimeout((function(){document.hasFocus()?"function"==typeof t.node.handleFocusOutside&&t.node.handleFocusOutside(e):e.preventDefault()}),0))}},{key:"cancelBlurCheck",value:function(){clearTimeout(this.blurCheckTimeout)}},{key:"normalizeButtonFocus",value:function(e){var t=e.type,n=e.target;(0,P.includes)(["mouseup","touchend"],t)?this.preventBlurCheck=!1:function(e){switch(e.nodeName){case"A":case"BUTTON":return!0;case"INPUT":return(0,P.includes)(R,e.type)}return!1}(n)&&(this.preventBlurCheck=!0)}},{key:"render",value:function(){return(0,e.createElement)("div",{onFocus:this.cancelBlurCheck,onMouseDown:this.normalizeButtonFocus,onMouseUp:this.normalizeButtonFocus,onTouchStart:this.normalizeButtonFocus,onTouchEnd:this.normalizeButtonFocus,onBlur:this.queueBlurCheck},(0,e.createElement)(t,i({ref:this.bindNode},this.props)))}}]),s}(e.Component)}),"withFocusOutside");function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}function A(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||I(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var F=(0,e.createContext)({focusHistory:[]}),j=F.Provider,L=F.Consumer;j.displayName="FocusReturnProvider",L.displayName="FocusReturnConsumer",e.Component;var M=(0,_.createHigherOrderComponent)((function t(n){if((o=n)instanceof e.Component||"function"==typeof o){var r=n;return t({})(r)}var o,i=n.onFocusReturn,c=void 0===i?P.stubTrue:i;return function(t){var n=function(n){h(s,n);var r,o,i=(r=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(r);if(o){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return w(this,e)});function s(){var e;return p(this,s),(e=i.apply(this,arguments)).ownFocusedElements=new Set,e.activeElementOnMount=document.activeElement,e.setIsFocusedFalse=function(){return e.isFocused=!1},e.setIsFocusedTrue=function(t){e.ownFocusedElements.add(t.target),e.isFocused=!0},e}return d(s,[{key:"componentWillUnmount",value:function(){var e=this.activeElementOnMount,t=this.isFocused,n=this.ownFocusedElements;if(t&&!1!==c())for(var r,o=[].concat(A(P.without.apply(void 0,[this.props.focus.focusHistory].concat(A(n)))),[e]);r=o.pop();)if(document.body.contains(r))return void r.focus()}},{key:"render",value:function(){return(0,e.createElement)("div",{onFocus:this.setIsFocusedTrue,onBlur:this.setIsFocusedFalse},(0,e.createElement)(t,this.props.childProps))}}]),s}(e.Component);return function(t){return(0,e.createElement)(L,null,(function(r){return(0,e.createElement)(n,{childProps:t,focus:r})}))}}}),"withFocusReturn"),B=window.wp.dom;var x=(0,_.createHigherOrderComponent)((function(t){return function(n){h(c,n);var r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(r);if(o){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return w(this,e)});function c(){var t;return p(this,c),(t=i.apply(this,arguments)).focusContainRef=(0,e.createRef)(),t.handleTabBehaviour=t.handleTabBehaviour.bind(v(t)),t}return d(c,[{key:"handleTabBehaviour",value:function(e){if(e.keyCode===S.TAB){var t=B.focus.tabbable.find(this.focusContainRef.current);if(t.length){var n=t[0],r=t[t.length-1];e.shiftKey&&e.target===n?(e.preventDefault(),r.focus()):(e.shiftKey||e.target!==r)&&t.includes(e.target)||(e.preventDefault(),n.focus())}}}},{key:"render",value:function(){return(0,e.createElement)("div",{onKeyDown:this.handleTabBehaviour,ref:this.focusContainRef,tabIndex:"-1"},(0,e.createElement)(t,this.props))}}]),c}(e.Component)}),"withConstrainedTabbing"),W=x;var U=function(t){h(i,t);var n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(n);if(r){var o=b(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return w(this,e)});function i(){var t;return p(this,i),(t=o.apply(this,arguments)).containerRef=(0,e.createRef)(),t.handleKeyDown=t.handleKeyDown.bind(v(t)),t.handleFocusOutside=t.handleFocusOutside.bind(v(t)),t}return d(i,[{key:"componentDidMount",value:function(){this.props.focusOnMount&&this.containerRef.current.focus()}},{key:"handleFocusOutside",value:function(e){this.props.shouldCloseOnClickOutside&&this.onRequestClose(e)}},{key:"handleKeyDown",value:function(e){e.keyCode===S.ESCAPE&&this.handleEscapeKeyDown(e)}},{key:"handleEscapeKeyDown",value:function(e){this.props.shouldCloseOnEsc&&(e.stopPropagation(),this.onRequestClose(e))}},{key:"onRequestClose",value:function(e){var t=this.props.onRequestClose;t&&t(e)}},{key:"render",value:function(){var t=this.props,n=t.overlayClassName,r=t.contentLabel,o=t.aria,i=o.describedby,c=o.labelledby,s=t.children,a=t.className,u=t.role,l=t.style;return(0,e.createElement)(D,{className:C()("components-modal__screen-overlay",n),onKeyDown:this.handleKeyDown},(0,e.createElement)("div",{className:C()("components-modal__frame",a),style:l,ref:this.containerRef,role:u,"aria-label":r,"aria-labelledby":r?null:c,"aria-describedby":i,tabIndex:"-1"},s))}}]),i}(e.Component),H=(0,_.compose)([M,W,N])(U),K=window.wp.primitives,z=(0,e.createElement)(K.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,e.createElement)(K.Path,{d:"M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"}));function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],c=!0,s=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{c||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||I(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){V(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $=function(e){h(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=b(t);if(n){var o=b(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return w(this,e)});function o(){return p(this,o),r.apply(this,arguments)}return d(o,[{key:"handleFocusOutside",value:function(e){this.props.onFocusOutside(e)}},{key:"render",value:function(){return this.props.children}}]),o}(e.Component),Q=N($);var X=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.htmlDocument,r=void 0===n?document:n,o=t.className,i=void 0===o?"lockscroll":o,c=0,s=0;function a(e){var t=r.scrollingElement||r.body;e&&(s=t.scrollTop);var n=e?"add":"remove";t.classList[n](i),r.documentElement.classList[n](i),e||(t.scrollTop=s)}return function(e){h(o,e);var t,n,r=(t=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=b(t);if(n){var o=b(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return w(this,e)});function o(){return p(this,o),r.apply(this,arguments)}return d(o,[{key:"componentDidMount",value:function(){0===c&&a(!0),++c}},{key:"componentWillUnmount",value:function(){1===c&&a(!1),--c}},{key:"render",value:function(){return null}}]),o}(e.Component)}();function J(){return J="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},J.apply(this,arguments)}window.wp.isShallowEqual;var Z=(window.wp.warning,n(4155)),ee=(0,e.createContext)({slots:{},fills:{},registerSlot:function(){void 0!==Z&&Z.env},updateSlot:function(){},unregisterSlot:function(){},registerFill:function(){},unregisterFill:function(){}});var te=(0,e.createContext)({registerSlot:function(){},unregisterSlot:function(){},registerFill:function(){},unregisterFill:function(){},getSlot:function(){},getFills:function(){},subscribe:function(){}}),ne=(te.Provider,te.Consumer);e.Component;var re=function(t){h(i,t);var n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(n);if(r){var o=b(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return w(this,e)});function i(){var e;return p(this,i),(e=o.apply(this,arguments)).isUnmounted=!1,e.bindNode=e.bindNode.bind(v(e)),e}return d(i,[{key:"componentDidMount",value:function(){(0,this.props.registerSlot)(this.props.name,this)}},{key:"componentWillUnmount",value:function(){var e=this.props.unregisterSlot;this.isUnmounted=!0,e(this.props.name,this)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.name,r=t.unregisterSlot,o=t.registerSlot;e.name!==n&&(r(e.name),o(n,this))}},{key:"bindNode",value:function(e){this.node=e}},{key:"forceUpdate",value:function(){this.isUnmounted||J(b(i.prototype),"forceUpdate",this).call(this)}},{key:"render",value:function(){var t=this.props,n=t.children,r=t.name,o=t.fillProps,i=void 0===o?{}:o,c=t.getFills,s=(0,P.map)(c(r,this),(function(t){var n=t.occurrence,r=(0,P.isFunction)(t.children)?t.children(i):t.children;return e.Children.map(r,(function(t,r){if(!t||(0,P.isString)(t))return t;var o="".concat(n,"---").concat(t.key||r);return(0,e.cloneElement)(t,{key:o})}))})).filter((0,P.negate)(e.isEmptyElement));return(0,e.createElement)(e.Fragment,null,(0,P.isFunction)(n)?n(s):s)}}]),i}(e.Component),oe=function(t){return(0,e.createElement)(ne,null,(function(n){var r=n.registerSlot,o=n.unregisterSlot,c=n.getFills;return(0,e.createElement)(re,i({},t,{registerSlot:r,unregisterSlot:o,getFills:c}))}))},ie=0;function ce(t){var n=t.name,r=t.children,o=t.registerFill,i=t.unregisterFill,c=function(t){var n=(0,e.useContext)(te),r=n.getSlot,o=n.subscribe,i=q((0,e.useState)(r(t)),2),c=i[0],s=i[1];return(0,e.useEffect)((function(){return s(r(t)),o((function(){s(r(t))}))}),[t]),c}(n),s=(0,e.useRef)({name:n,children:r});return s.current.occurrence||(s.current.occurrence=++ie),(0,e.useLayoutEffect)((function(){return o(n,s.current),function(){return i(n,s.current)}}),[]),(0,e.useLayoutEffect)((function(){s.current.children=r,c&&c.forceUpdate()}),[r]),(0,e.useLayoutEffect)((function(){n!==s.current.name&&(i(s.current.name,s.current),s.current.name=n,o(n,s.current))}),[n]),c&&c.node?((0,P.isFunction)(r)&&(r=r(c.props.fillProps)),(0,e.createPortal)(r,c.node)):null}var se=function(t){return(0,e.createElement)(ne,null,(function(n){var r=n.registerFill,o=n.unregisterFill;return(0,e.createElement)(ce,i({},t,{registerFill:r,unregisterFill:o}))}))};function ae(t){var n=t.name,r=t.fillProps,o=void 0===r?{}:r,c=t.as,s=void 0===c?"div":c,a=l(t,["name","fillProps","as"]),u=(0,e.useContext)(ee),p=(0,e.useRef)();return(0,e.useLayoutEffect)((function(){return u.registerSlot(n,p,o),function(){u.unregisterSlot(n,p)}}),[u.registerSlot,u.unregisterSlot,n]),(0,e.useLayoutEffect)((function(){u.updateSlot(n,o)})),(0,e.createElement)(s,i({ref:p},a))}function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){V(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pe(t){var n=(0,e.useContext)(ee),r=n.slots[t]||{},o=n.fills[t],i=(0,e.useMemo)((function(){return o||[]}),[o]),c=(0,e.useCallback)((function(e){n.updateSlot(t,e)}),[t,n.updateSlot]),s=(0,e.useCallback)((function(e){n.unregisterSlot(t,e)}),[t,n.unregisterSlot]),a=(0,e.useCallback)((function(e){n.registerFill(t,e)}),[t,n.registerFill]),u=(0,e.useCallback)((function(e){n.unregisterFill(t,e)}),[t,n.unregisterFill]);return le(le({},r),{},{updateSlot:c,unregisterSlot:s,fills:i,registerFill:a,unregisterFill:u})}function fe(t){var n,r=t.name,o=t.children,i=pe(r),c=(0,e.useRef)({rerender:(n=q((0,e.useState)({}),2)[1],function(){return n({})})});return(0,e.useEffect)((function(){return i.registerFill(c),function(){i.unregisterFill(c)}}),[i.registerFill,i.unregisterFill]),i.ref&&i.ref.current?("function"==typeof o&&(o=o(i.fillProps)),(0,e.createPortal)(o,i.ref.current)):null}function de(t){var n=t.bubblesVirtually,r=l(t,["bubblesVirtually"]);return n?(0,e.createElement)(ae,r):(0,e.createElement)(oe,r)}function me(t){return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(se,t),(0,e.createElement)(fe,t))}function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){V(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ve(e){var t=e.type,n=e.origin,r=void 0===n?function(e){return"appear"===e?"top":"left"}(t):n;if("appear"===t){var o,i=q(r.split(" "),2),c=i[0],s=i[1],a=void 0===s?"center":s;return C()("components-animate__appear",(V(o={},"is-from-"+a,"center"!==a),V(o,"is-from-"+c,"middle"!==c),o))}return"slide-in"===t?C()("components-animate__slide-in","is-from-"+r):"loading"===t?C()("components-animate__loading"):void 0}function we(e){var t=e.type,n=e.options,r=void 0===n?{}:n;return(0,e.children)({className:ve(ye({type:t},r))})}var be=W(M((function(e){return e.children}))),_e="Popover";function ge(e,t){var n,r=(n=t).ownerDocument.defaultView.getComputedStyle(n),o=r.paddingTop,i=r.paddingBottom,c=r.paddingLeft,s=r.paddingRight,a=o?parseInt(o,10):0,u=i?parseInt(i,10):0,l=c?parseInt(c,10):0,p=s?parseInt(s,10):0;return{x:e.left+l,y:e.top+a,width:e.width-l-p,height:e.height-a-u,left:e.left+l,right:e.right-p,top:e.top+a,bottom:e.bottom-u}}function Oe(e,t,n){n?e.getAttribute(t)!==n&&e.setAttribute(t,n):e.hasAttribute(t)&&e.removeAttribute(t)}function Ee(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e.style[t]!==n&&(e.style[t]=n)}function Ce(e,t,n){n?e.classList.contains(t)||e.classList.add(t):e.classList.contains(t)&&e.classList.remove(t)}var Se=function(t){var n=t.headerTitle,r=t.onClose,o=t.onKeyDown,c=t.children,s=t.className,a=t.noArrow,u=void 0===a||a,p=t.isAlternate,f=t.position,d=void 0===f?"bottom right":f,m=(t.range,t.focusOnMount),h=void 0===m?"firstElement":m,y=t.anchorRef,v=t.shouldAnchorIncludePadding,w=t.anchorRect,b=t.getAnchorRect,g=t.expandOnMobile,E=t.animate,T=void 0===E||E,P=t.onClickOutside,R=t.onFocusOutside,N=t.__unstableSticky,k=t.__unstableSlotName,I=void 0===k?_e:k,A=t.__unstableObserveElement,F=t.__unstableBoundaryParent,j=l(t,["headerTitle","onClose","onKeyDown","children","className","noArrow","isAlternate","position","range","focusOnMount","anchorRef","shouldAnchorIncludePadding","anchorRect","getAnchorRect","expandOnMobile","animate","onClickOutside","onFocusOutside","__unstableSticky","__unstableSlotName","__unstableObserveElement","__unstableBoundaryParent"]),L=(0,e.useRef)(null),M=(0,e.useRef)(null),x=(0,e.useRef)(),W=(0,_.useViewportMatch)("medium","<"),U=q((0,e.useState)(),2),H=U[0],K=U[1],V=pe(I),Y=g&&W,$=q((0,_.useResizeObserver)(),2),J=$[0],Z=$[1];u=Y||u,(0,e.useLayoutEffect)((function(){if(Y)return Ce(x.current,"is-without-arrow",u),Ce(x.current,"is-alternate",p),Oe(x.current,"data-x-axis"),Oe(x.current,"data-y-axis"),Ee(x.current,"top"),Ee(x.current,"left"),Ee(M.current,"maxHeight"),void Ee(M.current,"maxWidth");var e=function(){if(x.current&&M.current){var e=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4?arguments[4]:void 0;if(t)return t;if(n){if(!e.current)return;return n(e.current)}if(!1!==r){if(!(r&&window.Range&&window.Element&&window.DOMRect))return;if(r instanceof window.Range)return(0,B.getRectangleFromRange)(r);if(r instanceof window.Element){var i=r.getBoundingClientRect();return o?i:ge(i,r)}var c=r.top,s=r.bottom,a=c.getBoundingClientRect(),u=s.getBoundingClientRect(),l=new window.DOMRect(a.left,a.top,a.width,u.bottom-a.top);return o?l:ge(l,r)}if(e.current){var p=e.current.parentNode,f=p.getBoundingClientRect();return o?f:ge(f,p)}}(L,w,b,y,v);if(e){var t,n,r=x.current,o=r.offsetParent,i=r.ownerDocument,c=0;if(o&&o!==i.body){var s=o.getBoundingClientRect();c=s.top,e=new window.DOMRect(e.left-s.left,e.top-s.top,e.width,e.height)}F&&(t=null===(n=x.current.closest(".popover-slot"))||void 0===n?void 0:n.parentNode);var a=function(e,t){var n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,i=arguments.length>6?arguments[6]:void 0,c=q((arguments.length>2&&void 0!==arguments[2]?arguments[2]:"top").split(" "),3),s=c[0],a=c[1],u=void 0===a?"center":a,l=c[2],p=function(e,t,n,r,o,i,c){var s=t.height;if(o){var a=((0,B.getScrollContainer)(i)||document.body).getBoundingClientRect().top+s-c;if(e.top<=a)return{yAxis:n,popoverTop:Math.min(e.bottom,a)}}var u=e.top+e.height/2;"bottom"===r?u=e.bottom:"top"===r&&(u=e.top);var l={popoverTop:u,contentHeight:(u-s/2>0?s/2:u)+(u+s/2>window.innerHeight?window.innerHeight-u:s/2)},p={popoverTop:e.top,contentHeight:e.top-10-s>0?s:e.top-10},f={popoverTop:e.bottom,contentHeight:e.bottom+10+s>window.innerHeight?window.innerHeight-10-e.bottom:s},d=n,m=null;if(!o)if("middle"===n&&l.contentHeight===s)d="middle";else if("top"===n&&p.contentHeight===s)d="top";else if("bottom"===n&&f.contentHeight===s)d="bottom";else{var h="top"==(d=p.contentHeight>f.contentHeight?"top":"bottom")?p.contentHeight:f.contentHeight;m=h!==s?h:null}return{yAxis:d,popoverTop:"middle"===d?l.popoverTop:"top"===d?p.popoverTop:f.popoverTop,contentHeight:m}}(e,t,s,l,n,r,o),f=function(e,t,n,r,o,i,c){var s=t.width,a="rtl"===document.documentElement.dir;"left"===n&&a?n="right":"right"===n&&a&&(n="left"),"left"===r&&a?r="right":"right"===r&&a&&(r="left");var u=Math.round(e.left+e.width/2),l={popoverLeft:u,contentWidth:(u-s/2>0?s/2:u)+(u+s/2>window.innerWidth?window.innerWidth-u:s/2)},p=e.left;"right"===r?p=e.right:"middle"!==i&&(p=u);var f=e.right;"left"===r?f=e.left:"middle"!==i&&(f=u);var d,m={popoverLeft:p,contentWidth:p-s>0?s:p},h={popoverLeft:f,contentWidth:f+s>window.innerWidth?window.innerWidth-f:s},y=n,v=null;if(!o)if("center"===n&&l.contentWidth===s)y="center";else if("left"===n&&m.contentWidth===s)y="left";else if("right"===n&&h.contentWidth===s)y="right";else{var w="left"==(y=m.contentWidth>h.contentWidth?"left":"right")?m.contentWidth:h.contentWidth;v=w!==s?w:null}if(d="center"===y?l.popoverLeft:"left"===y?m.popoverLeft:h.popoverLeft,c){var b=c.getBoundingClientRect();d=Math.min(d,b.right-s)}return{xAxis:y,popoverLeft:d,contentWidth:v}}(e,t,u,l,n,p.yAxis,i);return G(G({},f),p)}(e,Z.height?Z:M.current.getBoundingClientRect(),d,N,x.current,c,t),l=a.popoverTop,f=a.popoverLeft,m=a.xAxis,h=a.yAxis,_=a.contentHeight,g=a.contentWidth;"number"==typeof l&&"number"==typeof f&&(Ee(x.current,"top",l+"px"),Ee(x.current,"left",f+"px")),Ce(x.current,"is-without-arrow",u||"center"===m&&"middle"===h),Ce(x.current,"is-alternate",p),Oe(x.current,"data-x-axis",m),Oe(x.current,"data-y-axis",h),Ee(M.current,"maxHeight","number"==typeof _?_+"px":""),Ee(M.current,"maxWidth","number"==typeof g?g+"px":""),K(({left:"right",right:"left"}[m]||"center")+" "+({top:"bottom",bottom:"top"}[h]||"middle"))}}};e();var t,n,r=window.setInterval(e,500),o=function(){window.cancelAnimationFrame(t),t=window.requestAnimationFrame(e)};return window.addEventListener("click",o),window.addEventListener("resize",e),window.addEventListener("scroll",e,!0),A&&(n=new window.MutationObserver(e)).observe(A,{attributes:!0}),function(){window.clearInterval(r),window.removeEventListener("resize",e),window.removeEventListener("scroll",e,!0),window.removeEventListener("click",o),window.cancelAnimationFrame(t),n&&n.disconnect()}}),[Y,w,b,y,v,d,Z,N,A,F]),function(t,n){(0,e.useEffect)((function(){var e=setTimeout((function(){if(t&&n.current)if("firstElement"!==t)"container"===t&&n.current.focus();else{var e=B.focus.tabbable.find(n.current)[0];e?e.focus():n.current.focus()}}),0);return function(){return clearTimeout(e)}}),[])}(h,M);var ee=function(e){e.keyCode===S.ESCAPE&&r&&(e.stopPropagation(),r()),o&&o(e)},te=(0,e.createElement)(Q,{onFocusOutside:function(e){if(R)R(e);else if(P){var t;try{t=new window.MouseEvent("click")}catch(e){(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null)}Object.defineProperty(t,"target",{get:function(){return e.relatedTarget}}),O()("Popover onClickOutside prop",{alternative:"onFocusOutside"}),P(t)}else r&&r()}},(0,e.createElement)(we,{type:T&&H?"appear":null,options:{origin:H}},(function(t){var o=t.className;return(0,e.createElement)(D,i({className:C()("components-popover",s,o,{"is-expanded":Y,"is-without-arrow":u,"is-alternate":p})},j,{onKeyDown:ee,ref:x}),Y&&(0,e.createElement)(X,null),Y&&(0,e.createElement)("div",{className:"components-popover__header"},(0,e.createElement)("span",{className:"components-popover__header-title"},n),(0,e.createElement)(Le,{className:"components-popover__close",icon:z,onClick:r})),(0,e.createElement)("div",{ref:M,className:"components-popover__content",tabIndex:"-1"},(0,e.createElement)("div",{style:{position:"relative"}},J,c)))})));return h&&(te=(0,e.createElement)(be,null,te)),V.ref&&(te=(0,e.createElement)(me,{name:I},te)),y||w?te:(0,e.createElement)("span",{ref:L},te)};Se.Slot=function(t){var n=t.name,r=void 0===n?_e:n;return(0,e.createElement)(de,{bubblesVirtually:!0,name:r,className:"popover-slot"})};var Te=Se,De=function(t){var n,r,o=t.shortcut,i=t.className;return o?((0,P.isString)(o)&&(n=o),(0,P.isObject)(o)&&(n=o.display,r=o.ariaLabel),(0,e.createElement)("span",{className:i,"aria-label":r},n)):null};var Pe=function(t){h(i,t);var n,r,o=(n=i,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(n);if(r){var o=b(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return w(this,e)});function i(){var e;return p(this,i),(e=o.apply(this,arguments)).delayedSetIsOver=(0,P.debounce)((function(t){return e.setState({isOver:t})}),700),e.cancelIsMouseDown=e.createSetIsMouseDown(!1),e.isInMouseDown=!1,e.state={isOver:!1},e}return d(i,[{key:"componentWillUnmount",value:function(){this.delayedSetIsOver.cancel(),document.removeEventListener("mouseup",this.cancelIsMouseDown)}},{key:"emitToChild",value:function(t,n){var r=this.props.children;if(1===e.Children.count(r)){var o=e.Children.only(r);"function"==typeof o.props[t]&&o.props[t](n)}}},{key:"createToggleIsOver",value:function(e,t){var n=this;return function(r){if(n.emitToChild(e,r),!(r.currentTarget.disabled||"focus"===r.type&&n.isInMouseDown)){n.delayedSetIsOver.cancel();var o=(0,P.includes)(["focus","mouseenter"],r.type);o!==n.state.isOver&&(t?n.delayedSetIsOver(o):n.setState({isOver:o}))}}}},{key:"createSetIsMouseDown",value:function(e){var t=this;return function(n){t.emitToChild(e?"onMouseDown":"onMouseUp",n),document[e?"addEventListener":"removeEventListener"]("mouseup",t.cancelIsMouseDown),t.isInMouseDown=e}}},{key:"render",value:function(){var t=this.props,n=t.children,r=t.position,o=t.text,i=t.shortcut;if(1!==e.Children.count(n))return n;var c=e.Children.only(n),s=this.state.isOver;return(0,e.cloneElement)(c,{onMouseEnter:this.createToggleIsOver("onMouseEnter",!0),onMouseLeave:this.createToggleIsOver("onMouseLeave"),onClick:this.createToggleIsOver("onClick"),onFocus:this.createToggleIsOver("onFocus"),onBlur:this.createToggleIsOver("onBlur"),onMouseDown:this.createSetIsMouseDown(!0),children:(0,e.concatChildren)(c.props.children,s&&(0,e.createElement)(Te,{focusOnMount:!1,position:r,className:"components-tooltip","aria-hidden":"true",animate:!1,noArrow:!0},o,(0,e.createElement)(De,{className:"components-tooltip__shortcut",shortcut:i})))})}}]),i}(e.Component),Re=Pe,Ne=function(t){var n=t.icon,r=t.className,o=l(t,["icon","className"]),c=["dashicon","dashicons","dashicons-"+n,r].filter(Boolean).join(" ");return(0,e.createElement)("span",i({className:c},o))};function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){V(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ae=function(t){var n=t.icon,r=void 0===n?null:n,o=t.size,c=l(t,["icon","size"]);if("string"==typeof r)return(0,e.createElement)(Ne,i({icon:r},c));if(r&&Ne===r.type)return(0,e.cloneElement)(r,Ie({},c));var s=o||24;if("function"==typeof r)return r.prototype instanceof e.Component?(0,e.createElement)(r,Ie({size:s},c)):r(Ie({size:s},c));if(r&&("svg"===r.type||r.type===K.SVG)){var a=Ie(Ie({width:s,height:s},r.props),c);return(0,e.createElement)(K.SVG,a)}return(0,e.isValidElement)(r)?(0,e.cloneElement)(r,Ie({size:s},c)):r};function Fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var je=["onMouseDown","onClick"],Le=(0,e.forwardRef)((function(t,n){var r=t.href,o=t.target,c=t.isPrimary,s=t.isSmall,a=t.isTertiary,u=t.isPressed,p=t.isBusy,f=t.isDefault,d=t.isSecondary,m=t.isLink,h=t.isDestructive,y=t.className,v=t.disabled,w=t.icon,b=t.iconSize,_=t.showTooltip,g=t.tooltipPosition,E=t.shortcut,S=t.label,T=t.children,D=t.__experimentalIsFocusable,R=l(t,["href","target","isPrimary","isSmall","isTertiary","isPressed","isBusy","isDefault","isSecondary","isLink","isDestructive","className","disabled","icon","iconSize","showTooltip","tooltipPosition","shortcut","label","children","__experimentalIsFocusable"]);f&&O()("Button isDefault prop",{alternative:"isSecondary"});var N=C()("components-button",y,{"is-secondary":f||d,"is-primary":c,"is-small":s,"is-tertiary":a,"is-pressed":u,"is-busy":p,"is-link":m,"is-destructive":h,"has-text":!!w&&!!T,"has-icon":!!w}),k=v&&!D,I=void 0===r||k?"button":"a",A="a"===I?{href:r,target:o}:{type:"button",disabled:k,"aria-pressed":u};if(v&&D){A["aria-disabled"]=!0;var F,j=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fe(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw i}}}}(je);try{for(j.s();!(F=j.n()).done;)R[F.value]=function(e){e.stopPropagation(),e.preventDefault()}}catch(e){j.e(e)}finally{j.f()}}var L=!k&&(_&&S||E||!!S&&(!T||(0,P.isArray)(T)&&!T.length)&&!1!==_),M=(0,e.createElement)(I,i({},A,R,{className:N,"aria-label":R["aria-label"]||S,ref:n}),w&&(0,e.createElement)(Ae,{icon:w,size:b}),T);return L?(0,e.createElement)(Re,{text:S,shortcut:E,position:g},M):M})),Me=function(t){var n=t.icon,r=t.title,o=t.onClose,i=t.closeLabel,s=t.headingId,a=t.isDismissible,u=i||(0,c.__)("Close dialog");return(0,e.createElement)("div",{className:"components-modal__header"},(0,e.createElement)("div",{className:"components-modal__header-heading-container"},n&&(0,e.createElement)("span",{className:"components-modal__icon-container","aria-hidden":!0},n),r&&(0,e.createElement)("h1",{id:s,className:"components-modal__header-heading"},r)),a&&(0,e.createElement)(Le,{onClick:o,icon:z,label:u}))},Be=new Set(["alert","status","log","marquee","timer"]),xe=[],We=!1;var Ue,He=0,Ke=function(t){h(c,t);var n,r,o=(n=c,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(n);if(r){var o=b(this).constructor;e=Reflect.construct(t,arguments,o)}else e=t.apply(this,arguments);return w(this,e)});function c(e){var t;return p(this,c),(t=o.call(this,e)).prepareDOM(),t}return d(c,[{key:"componentDidMount",value:function(){1==++He&&this.openFirstModal()}},{key:"componentWillUnmount",value:function(){0==--He&&this.closeLastModal(),this.cleanDOM()}},{key:"prepareDOM",value:function(){Ue||(Ue=document.createElement("div"),document.body.appendChild(Ue)),this.node=document.createElement("div"),Ue.appendChild(this.node)}},{key:"cleanDOM",value:function(){Ue.removeChild(this.node)}},{key:"openFirstModal",value:function(){(function(e){if(!We){var t=document.body.children;(0,P.forEach)(t,(function(t){t!==e&&function(e){var t=e.getAttribute("role");return!("SCRIPT"===e.tagName||e.hasAttribute("aria-hidden")||e.hasAttribute("aria-live")||Be.has(t))}(t)&&(t.setAttribute("aria-hidden","true"),xe.push(t))})),We=!0}})(Ue),document.body.classList.add(this.props.bodyOpenClassName)}},{key:"closeLastModal",value:function(){document.body.classList.remove(this.props.bodyOpenClassName),We&&((0,P.forEach)(xe,(function(e){e.removeAttribute("aria-hidden")})),xe=[],We=!1)}},{key:"render",value:function(){var t=this.props,n=t.onRequestClose,r=t.title,o=t.icon,c=t.closeButtonLabel,s=t.children,a=t.aria,u=t.instanceId,p=t.isDismissible,f=t.isDismissable,d=l(t,["onRequestClose","title","icon","closeButtonLabel","children","aria","instanceId","isDismissible","isDismissable"]),m=a.labelledby||"components-modal-header-".concat(u);return f&&O()("isDismissable prop of the Modal component",{alternative:"isDismissible prop (renamed) of the Modal component"}),(0,e.createPortal)((0,e.createElement)(H,i({onRequestClose:n,aria:{labelledby:r?m:null,describedby:a.describedby}},d),(0,e.createElement)("div",{className:"components-modal__content",role:"document"},(0,e.createElement)(Me,{closeLabel:c,headingId:m,icon:o,isDismissible:p||f,onClose:n,title:r}),s)),this.node)}}]),c}(e.Component);Ke.defaultProps={bodyOpenClassName:"modal-open",role:"dialog",title:null,focusOnMount:!0,shouldCloseOnEsc:!0,shouldCloseOnClickOutside:!0,isDismissible:!0,aria:{labelledby:null,describedby:null}};var ze=(0,_.withInstanceId)(Ke),qe=window.wp.a11y,Ve=function(t){var n=t.className,r=t.status,o=void 0===r?"info":r,i=t.children,s=t.spokenMessage,a=void 0===s?i:s,u=t.onRemove,l=void 0===u?P.noop:u,p=t.isDismissible,f=void 0===p||p,d=t.actions,m=void 0===d?[]:d,h=t.politeness,y=void 0===h?function(e){switch(e){case"success":case"warning":case"info":return"polite";default:return"assertive"}}(o):h,v=t.__unstableHTML;!function(t,n){var r="string"==typeof t?t:(0,e.renderToString)(t);(0,e.useEffect)((function(){r&&(0,qe.speak)(r,n)}),[r,n])}(a,y);var w=C()(n,"components-notice","is-"+o,{"is-dismissible":f});return v&&(i=(0,e.createElement)(e.RawHTML,null,i)),(0,e.createElement)("div",{className:w},(0,e.createElement)("div",{className:"components-notice__content"},i,m.map((function(t,n){var r=t.className,o=t.label,i=t.isPrimary,c=t.noDefaultClasses,s=void 0!==c&&c,a=t.onClick,u=t.url;return(0,e.createElement)(Le,{key:n,href:u,isPrimary:i,isSecondary:!s&&!u,isLink:!s&&!!u,onClick:u?void 0:a,className:C()("components-notice__action",r)},o)}))),f&&(0,e.createElement)(Le,{className:"components-notice__dismiss",icon:z,label:(0,c.__)("Dismiss this notice"),onClick:l,showTooltip:!1}))},Ye=window.wc.components,Ge=window.wp.url;window.moment,window.wp.date,window.wc.number;var $e=window.wp.apiFetch,Qe=n.n($e),Xe=window.wp.domReady,Je=n.n(Xe);var Ze=function(){return window.wcTracks.isEnabled},et=function(e,t){Je()((()=>{var n,r,o;(null!==(n=null===(r=window.wc)||void 0===r||null===(o=r.tracks)||void 0===o?void 0:o.recordEvent)&&void 0!==n?n:window.wcTracks.recordEvent)(e,t)}))},tt={CONNECT_ACCOUNT_CLICKED:"wcpay_connect_account_clicked",CONNECT_ACCOUNT_VIEW:"page_view",CONNECT_ACCOUNT_LEARN_MORE:"wcpay_welcome_learn_more",CONNECT_ACCOUNT_STRIPE_CONNECTED:"wcpay_stripe_connected",CONNECT_ACCOUNT_KYC_MODAL_OPENED:"wcpay_connect_account_kyc_modal_opened",DEPOSITS_ROW_CLICK:"wcpay_deposits_row_click",DEPOSITS_DOWNLOAD_CSV_CLICK:"wcpay_deposits_download",OVERVIEW_DEPOSITS_VIEW_HISTORY_CLICK:"wcpay_overview_deposits_view_history_click",OVERVIEW_DEPOSITS_CHANGE_SCHEDULE_CLICK:"wcpay_overview_deposits_change_schedule_click",SETTINGS_DEPOSITS_MANAGE_IN_STRIPE_CLICK:"wcpay_settings_deposits_manage_in_stripe_click",MULTI_CURRENCY_ENABLED_CURRENCIES_UPDATED:"wcpay_multi_currency_enabled_currencies_updated",PAYMENT_REQUEST_SETTINGS_CHANGE:"wcpay_payment_request_settings_change",SUBSCRIPTIONS_EMPTY_STATE_VIEW:"wcpay_subscriptions_empty_state_view",SUBSCRIPTIONS_EMPTY_STATE_FINISH_SETUP:"wcpay_subscriptions_empty_state_finish_setup",SUBSCRIPTIONS_EMPTY_STATE_CREATE_PRODUCT:"wcpay_subscriptions_empty_state_create_product",SUBSCRIPTIONS_ACCOUNT_NOT_CONNECTED_PRODUCT_MODAL_VIEW:"wcpay_subscriptions_account_not_connected_product_modal_view",SUBSCRIPTIONS_ACCOUNT_NOT_CONNECTED_PRODUCT_MODAL_FINISH_SETUP:"wcpay_subscriptions_account_not_connected_product_modal_finish_setup",SUBSCRIPTIONS_ACCOUNT_NOT_CONNECTED_PRODUCT_MODAL_DISMISS:"wcpay_subscriptions_account_not_connected_product_modal_dismiss",WOOPAY_OFFERED:"woopay_offered",WOOPAY_OTP_START:"woopay_otp_prompt_start",WOOPAY_OTP_COMPLETE:"woopay_otp_prompt_complete",WOOPAY_OTP_FAILED:"woopay_otp_prompt_failed",WOOPAY_AUTO_REDIRECT:"woopay_auto_redirect",WOOPAY_SKIPPED:"woopay_skipped",WOOPAY_EXPRESS_BUTTON_OFFERED:"woopay_express_button_offered",WOOPAY_EXPRESS_BUTTON_CLICKED:"woopay_express_button_clicked",ONBOARDING_FLOW_STARTED:"wcpay_onboarding_flow_started",ONBOARDING_FLOW_MODE_SELECTED:"wcpay_onboarding_flow_mode_selected",ONBOARDING_FLOW_STEP_COMPLETED:"wcpay_onboarding_flow_step_completed",ONBOARDING_FLOW_HIDDEN:"wcpay_onboarding_flow_hidden",ONBOARDING_FLOW_EXITED:"wcpay_onboarding_flow_exited",ONBOARDING_FLOW_REDIRECTED:"wcpay_onboarding_flow_redirected",ONBOARDING_FLOW_ELIGIBILITY_MODAL_CLOSED:"wcpay_onboarding_flow_eligibility_modal_closed"};const nt=async e=>{let{accept:t}=e;return Qe()({path:"/wc/v3/payments/tos",method:"POST",data:{accept:t}})},rt=async()=>{const e=wcpay_tos_settings.trackStripeConnected;Ze()&&e&&(et(tt.CONNECT_ACCOUNT_STRIPE_CONNECTED,{is_existing_stripe_account:e.is_existing_stripe_account}),Qe()({path:"/wc/v3/payments/tos/stripe_track_connected",method:"POST"}))},ot=t=>(0,e.createElement)(Ye.Link,i({},t,{href:"https://wordpress.com/tos",target:"_blank",rel:"noopener noreferrer",type:"external"})),it=t=>{let{onAccept:n,onDecline:r,isBusy:o,hasError:i}=t;const s=(0,c.__)("WooCommerce Payments: Terms of Service","woocommerce-payments"),a=u({mixedString:(0,c.__)("To continue using WooCommerce Payments, please review and agree to our {{link}}Terms of Service{{/link}}. By clicking “Accept” you agree to the Terms of Service.","woocommerce-payments"),components:{link:(0,e.createElement)(ot,null)}});return(0,e.createElement)(ze,{title:s,isDismissible:!1,shouldCloseOnClickOutside:!1,shouldCloseOnEsc:!1,onRequestClose:r,className:"woocommerce-payments__tos-modal"},i&&(0,e.createElement)(Ve,{status:"error",isDismissible:!1,className:"woocommerce-payments__tos-error"},(0,c.__)("Something went wrong. Please try accepting the Terms of Service again!","woocommerce-payments")),(0,e.createElement)("div",{className:"woocommerce-payments__tos-wrapper"},(0,e.createElement)("div",{className:"woocommerce-payments__tos-modal-message"},a),(0,e.createElement)("div",{className:"woocommerce-payments__tos-footer"},(0,e.createElement)(Le,{isSecondary:!0,onClick:r,isBusy:o},(0,c.__)("Decline","woocommerce-payments")),(0,e.createElement)(Le,{isPrimary:!0,onClick:n,isBusy:o},(0,c.__)("Accept","woocommerce-payments")))))},ct=t=>{let{onDisable:n,onCancel:r,isBusy:o,hasError:i}=t;const s=(0,c.__)("Disable WooCommerce Payments","woocommerce-payments"),a=u({mixedString:(0,c.__)("By declining our {{link}}Terms of Service{{/link}}, you’ll no longer be able to capture credit card payments using WooCommerce Payments. Your previous transaction and deposit data will still be available.","woocommerce-payments"),components:{link:(0,e.createElement)(ot,null)}});return(0,e.createElement)(ze,{title:s,isDismissible:!1,shouldCloseOnClickOutside:!1,shouldCloseOnEsc:!1,onRequestClose:n,className:"woocommerce-payments__tos-modal"},i&&(0,e.createElement)(Ve,{status:"error",isDismissible:!1,className:"woocommerce-payments__tos-error"},(0,c.__)("Something went wrong. Please try again!","woocommerce-payments")),(0,e.createElement)("div",{className:"woocommerce-payments__tos-wrapper"},(0,e.createElement)("div",{className:"woocommerce-payments__tos-modal-message"},a),(0,e.createElement)("div",{className:"woocommerce-payments__tos-footer"},(0,e.createElement)(Le,{isTertiary:!0,onClick:r,isBusy:o},(0,c.__)("Back","woocommerce-payments")),(0,e.createElement)(Le,{isPrimary:!0,onClick:n,isBusy:o},(0,c.__)("Disable","woocommerce-payments")))))};var st=()=>{const[t,n]=(0,e.useState)(!0),[r,o]=(0,e.useState)(!1),[i,c]=(0,e.useState)(!1),[s,a]=(0,e.useState)(!1),[u,l]=(0,e.useState)(!1),p=()=>n(!1),f=()=>o(!1);return r?(0,e.createElement)(ct,{onDisable:async()=>{try{l(!1),c(!0),await nt({accept:!1}),f(),window.location=(0,Ge.addQueryArgs)((e={page:"wc-settings",tab:"checkout"},(0,Ge.addQueryArgs)("admin.php",e)),{"tos-disabled":1})}catch(e){l(!0)}finally{c(!1)}var e},onCancel:()=>{f(),n(!0)},isBusy:i,hasError:u}):t?(0,e.createElement)(it,{onAccept:async()=>{try{a(!1),c(!0),await nt({accept:!0}),rt(),p()}catch(e){a(!0)}finally{c(!1)}},onDecline:()=>{p(),o(!0)},isBusy:i,hasError:s}):null},at=window.wp.data;wcpay_tos_settings.tosAgreementRequired?function(){const t=document.createElement("div");t.id="wcpay-tos-container",document.body.appendChild(t),o().render((0,e.createElement)(st,null),t)}():rt(),wcpay_tos_settings.tosAgreementDeclined&&window.addEventListener("load",(()=>{const{settingsUrl:e}=wcpay_tos_settings;(e=>{const{createInfoNotice:t}=(0,at.dispatch)("core/notices");t((0,c.__)("Disabled WooCommerce Payments","woocommerce-payments"),{actions:[{label:(0,c.__)("Undo","woocommerce-payments"),onClick:async()=>{try{await(async()=>Qe()({path:"/wc/v3/payments/tos/reactivate",method:"POST"}))()}finally{window.location=e}}}]})})(e)}))}()}();